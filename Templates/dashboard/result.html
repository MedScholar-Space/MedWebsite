{% extends '../account/Dashboard Test.html' %} {% block content %}
<div class="container mt-5">
  <div class="card">
    <div class="card-header bg-primary text-white">
      <h2>Quiz Results</h2>
    </div>
    <div class="card-body">
      <div
        class="alert {% if resultat >= 50 %}alert-success{% else %}alert-danger{% endif %}"
      >
        <h3>
          Your Score: {{ score }}/{{ total }} ({{ resultat|floatformat:2 }}%)
        </h3>
      </div>
      {% for result in results %}
      <div class="card mb-3">
        <div
          class="card-header {% if result.is_correct %}bg-success text-white{% else %}bg-danger text-white{% endif %}"
        >
          {{ result.question }}
        </div>
        <div class="card-body">
          <h5>Explanation:</h5>
          <p>{{ result.explication }}</p>

          <div class="row">
            <div class="col-md-6">
              <h6>Your Answers:</h6>
              <ul>
                {% for answer in result.selected_answers %}
                <li>{{ answer}}</li>
                {% endfor %}
              </ul>
            </div>
            <div class="col-md-6">
              <h6>Correct Answers:</h6>
              <ul>
                {% for answer in result.correct_answers %}
                <li>{{ answer }}</li>
                {% endfor %}
              </ul>
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>

  <script>
    console.log({% for i in results %} "{{i}}"{% endfor %})
  </script>
</div>
{% endblock %}
